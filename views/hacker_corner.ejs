<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Politique de Non-Confidentialit√© | Histoire de Snake</title>
    <link rel="stylesheet" href="/css/game.css">
    <link rel="stylesheet" href="/css/style.css">
    <style>
        canvas[Attributes Style] {
            aspect-ratio: auto 600 / 800;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="back-link">‚Üê Retour √† la s√©curit√© (Accueil)</a>

        <h1>Te voici dans le hacker corner</h1>

        <div style="text-align: center;">
            <p>√ätes-vous pr√™t √† lancer le snake des hackers ?</p>
            <button class="btn-consent" onclick="ouvrirJeu(800, 600)" style="font-size: 1.2em; padding: 15px 30px; background-color: #d9534f; color: white; border: none; cursor: pointer; border-radius: 5px;">
                JOUER
            </button>
        </div>

    </div>

    <footer class="footer-pro">
    <div class="footer-content">
        <div class="footer-section about">
            <h3>üêç Snake History</h3>
            <p>
                Une r√©trospective interactive sur l'√©volution du jeu le plus c√©l√®bre du monde mobile. 
                Du monochrome du Nokia 3310 aux easter eggs modernes.
            </p>
        </div>

        <div class="footer-section links">
            <h3>Explorer</h3>
            <ul>
                <li><a href="index#origines">Les Origines (Arcade)</a></li>
                <li><a href="index#phenomene-mobile">L'√àre Nokia</a></li>
                <li><a href="index#snek-discord">Snek sur Discord</a></li>
                <li><a href="index#heritage">H√©ritage</a></li>
            </ul>
        </div>

        <div class="footer-section legal">
            <h3>Informations</h3>
            <ul>
                <li><a href="/politique">Politique de Confidentialit√©</a></li>
                <li><a href="https://www.nuitdelinfo.com/" target="_blank">Projet Nuit de l'Info 2025</a></li>
            </ul>
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2025 Snake History | Con√ßu avec passion pour le code et les reptiles.</p>
    </div>
</footer>
<button id="theme-toggle" onclick="toggleTheme()" style="
    position: fixed; 
    bottom: 20px; 
    left: 20px; 
    z-index: 1000; 
    background-color: #333; 
    color: #fff; 
    border: 2px solid #4CAF50; 
    border-radius: 50%; 
    width: 50px; 
    height: 50px; 
    font-size: 24px; 
    cursor: pointer; 
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    transition: transform 0.3s;">
    üåô
</button>

<script>
    // V√©rifie si l'utilisateur a d√©j√† choisi un th√®me
    const currentTheme = localStorage.getItem('theme');
    const btnTheme = document.getElementById('theme-toggle');

    // Applique le th√®me au chargement
    if (currentTheme === 'dark') {
        document.body.classList.add('dark-mode');
        btnTheme.innerHTML = "‚òÄÔ∏è"; // Change l'icone en soleil
        btnTheme.style.backgroundColor = "#fff";
        btnTheme.style.color = "#333";
    }

    function toggleTheme() {
        document.body.classList.toggle('dark-mode');
        
        let theme = 'light';
        
        // Si la classe est pr√©sente, on est en mode sombre
        if (document.body.classList.contains('dark-mode')) {
            theme = 'dark';
            btnTheme.innerHTML = "‚òÄÔ∏è"; // Soleil
            btnTheme.style.backgroundColor = "#fff";
            btnTheme.style.color = "#333";
        } else {
            btnTheme.innerHTML = "üåô"; // Lune
            btnTheme.style.backgroundColor = "#333";
            btnTheme.style.color = "#fff";
        }
        
        // On sauvegarde le choix dans la m√©moire du navigateur
        localStorage.setItem('theme', theme);
    }
</script>

    <div onclick="fermerJeu()" 
         id="pipop1"
         style="visibility: hidden; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(128, 128, 128, 0.5); z-index: 1000;">
    </div>

    <div id="snake-overlay" 
         style="visibility: hidden; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: auto; z-index: 10000; display: flex; justify-content: center; align-items: center;">
        
        <div class="game-popup" style="background-color: #111; border: 2px solid #00FF00; padding: 20px; border-radius: 10px; text-align: center; color: #00FF00; box-shadow: 0 0 50px rgba(0, 255, 0, 0.2);">
            
            <div style="position: relative;">
                <span class="close-btn" onclick="fermerJeu()" style="cursor: pointer; position: absolute; top: -45px; right: -10px; font-size: 30px; color: #00FF00;">&times;</span>
            </div>
            
            <h2 style="color: #00FF00; margin-top: 0;">TERMINAL SNAKE</h2>
            <p>Score: <span id="score">0</span></p>

        <div style="margin-bottom: 10px;">
        <label style="color: #00FF00; font-size: 14px; cursor: pointer;">
            <input type="checkbox" id="checkTeleport" checked> Traverser les murs
        </label>
        <label style="color: #00FF00; font-size: 14px; cursor: pointer;">
            <input type="checkbox" id="checkBugPlacement" checked> Placement des fruits sur le serpant
        </label>
        </div>
        <canvas id="gameCanvas" width="800px" height="600px"></canvas>
    </div>

    <div id="info-overlay" style="visibility: hidden; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); z-index: 20000; display: flex; justify-content: center; align-items: center;">
        
        <div style="background-color: #000; border: 2px solid #00FF00; padding: 30px; border-radius: 5px; max-width: 500px; width: 90%; color: #00FF00; font-family: 'Courier New', Courier, monospace; position: relative; box-shadow: 0 0 20px #00FF00;">
            
            <span onclick="fermerInfos()" style="position: absolute; top: 10px; right: 15px; cursor: pointer; font-size: 24px; font-weight: bold;">&times;</span>
            
            <h2 style="border-bottom: 1px dashed #00FF00; padding-bottom: 10px;">DONN√âES COLLECT√âES</h2>
            
            <div id="info-content" style="text-align: left; margin-top: 20px; line-height: 1.6;">
                Chargement...
            </div>
    
            <p style="margin-top: 20px; font-size: 0.8em; color: #888;">
                * Ces donn√©es sont affich√©es en temps r√©el depuis votre navigateur. Nous ne les stockons pas vraiment (on n'a pas assez de place sur le disque dur).
            </p>
        </div>
    </div>

    <script>
        const infoOverlay = document.getElementById('info-overlay');
        const infoContent = document.getElementById('info-content');
    
        async function afficherInfos() {
            // 1. Ouvrir la popup
            infoOverlay.style.visibility = 'visible';
            infoContent.innerHTML = "Infiltration du syst√®me...<br>Lecture de la m√©moire vive...";
    
            // 2. R√©cup√©rer l'IP
            let ip = "Inconnue (Vous utilisez un VPN ?)";
            try {
                const response = await fetch('/api/my-ip');
                const data = await response.json();
                ip = data.ip === '::1' ? '127.0.0.1 (Vous √™tes le serveur !)' : data.ip;
                if (ip.startsWith('::ffff:')) ip = ip.replace('::ffff:', '');
            } catch (e) {
                ip = "Erreur r√©seau (Bien jou√©)";
            }
    
            // 3. R√©cup√©rer les infos navigateur
            const navigateur = navigator.userAgent;
            const langue = navigator.language;
            const platform = navigator.platform;
            const cores = navigator.hardwareConcurrency || "Inconnu";
            const ecran = `${window.screen.width}x${window.screen.height}`;
            
            // 4. Batterie (Feature sp√©ciale)
            let batterieNiveau = "Ind√©tectable (PC Fixe ?)";
            if (navigator.getBattery) {
                try {
                    const batt = await navigator.getBattery();
                    const niveau = Math.round(batt.level * 100);
                    let commentaire = "";
                    if(niveau < 20) commentaire = " (Branchez-vous vite !)";
                    else if(niveau > 90) commentaire = " (√ânergie au max)";
                    
                    batterieNiveau = niveau + "%" + (batt.charging ? " ‚ö° En charge" : "") + commentaire;
                } catch (e) {}
            }
    
            // 5. Affichage final
            infoContent.innerHTML = `
                <strong>üìç ADRESSE IP CIBLE :</strong> <span style="color:white">${ip}</span><br>
                <strong>üñ•Ô∏è OS D√âTECT√â :</strong> ${platform}<br>
                <strong>üì∫ R√âSOLUTION :</strong> ${ecran}<br>
                <strong>üß† PUISSANCE CPU :</strong> ${cores} C≈ìurs<br>
                <strong>üîã √âTAT √âNERGIE :</strong> ${batterieNiveau}<br>
                <strong>üó£Ô∏è LANGUE :</strong> ${langue}<br>
                <br>
                <strong>üïµÔ∏è SIGNATURE NAVIGATEUR :</strong><br>
                <span style="font-size: 0.7em; color: #ccc;">${navigateur}</span>
            `;
        }
    
        function fermerInfos() {
            infoOverlay.style.visibility = 'hidden';
        }
    </script>
    
    <script src="/js/game.js"></script>
</body>
</html>