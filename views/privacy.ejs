<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Politique de Confidentialit√© | Histoire de Snake</title>
    <link rel="stylesheet" href="/css/game.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <a href="snake_histoire.html" class="back-link">‚Üê Retour √† l'accueil</a>

        <h1>Politique de Confidentialit√© du Site "Histoire de Snake"</h1>

        <p>La pr√©sente Politique de Confidentialit√© s'applique au site web <strong>"Histoire de Snake"</strong> (ci-apr√®s, le "Site"). Nous nous engageons √† prot√©ger la vie priv√©e de nos visiteurs. Cette politique explique quelles donn√©es nous collectons et comment nous les utilisons.</p>

        <p>Ce Site a pour objectif principal de fournir des informations historiques sur le jeu vid√©o *Snake* et n'est pas con√ßu pour la collecte active d'informations personnelles sensibles.</p>

        <h2>1. Donn√©es Collect√©es</h2>

        <p>Le Site collecte des informations de deux mani√®res principales :</p>

        <h3>A. Donn√©es Non Personnelles Collect√©es Automatiquement (Journaux de Serveur)</h3>
        <p>Lorsque vous acc√©dez au Site, votre navigateur envoie automatiquement des informations que nos serveurs enregistrent. Ces donn√©es sont anonymes et servent uniquement √† la maintenance et √† la s√©curit√© du Site. Elles peuvent inclure :</p>
        <ul>
            <li>Votre <strong>adresse IP</strong> (anonymis√©e, si possible).</li>
            <li>Le type de <strong>navigateur</strong> et de <strong>syst√®me d'exploitation</strong>strong> que vous utilisez.</li>
            <li>La <strong>date et l'heure</strong> de votre visite.</li>
            <li>Les <strong>pages</strong> que vous consultez.</li>
        </ul>

        <h3>B. Cookies et Technologies Similaires</h3>
        <p>Le Site peut utiliser des cookies ou des technologies de suivi pour am√©liorer l'exp√©rience utilisateur et analyser le trafic :</p>
        <ol>
            <li><strong>Cookies d'Analyse (Optionnel) :</strong> Si nous utilisons un service d'analyse tiers (comme Google Analytics), il placera un cookie pour comptabiliser les visiteurs et les pages vues. Ces donn√©es ne permettent pas de vous identifier personnellement.</li>
            <li><strong>Cookies Essentiels :</strong> Ces cookies sont n√©cessaires au bon fonctionnement technique du Site.</li>
        </ol>

        <h2>2. Utilisation des Donn√©es</h2>
        <p>Les donn√©es collect√©es sont utilis√©es exclusivement aux fins suivantes :</p>
        <ul>
            <li><strong>Maintenance et S√©curit√© :</strong> Assurer la s√©curit√© du Site, d√©tecter et pr√©venir les pannes.</li>
            <li><strong>Analyse du Trafic :</strong> Comprendre quelles parties du Site sont les plus populaires pour am√©liorer le contenu.</li>
            <li><strong>Conformit√© L√©gale :</strong> R√©pondre √† toute obligation l√©gale ou r√©glementaire.</li>
        </ul>

        <h2>3. Partage des Donn√©es</h2>
        <p>Nous ne vendons, n'√©changeons ni ne louons vos informations personnelles √† des tiers.</p>
        <p>Les donn√©es non personnelles (anonymis√©es) peuvent √™tre partag√©es avec des services tiers dans le but exclusif de l'analyse web, qui sont eux-m√™mes tenus de respecter leurs propres politiques de confidentialit√©.</p>

        <h2>4. Vos Droits (R√®glement G√©n√©ral sur la Protection des Donn√©es - RGPD)</h2>
        <p>Conform√©ment au RGPD (applicable aux r√©sidents de l'Union Europ√©enne), vous disposez des droits suivants concernant vos donn√©es :</p>
        <ul>
            <li><strong>Droit d'acc√®s :</strong> Demander une copie des donn√©es que nous d√©tenons.</li>
            <li><strong>Droit de rectification :</strong> Demander la correction de donn√©es inexactes.</li>
            <li><strong>Droit d'effacement ("Droit √† l'oubli") :</strong> Demander l'effacement de vos donn√©es.</li>
        </ul>
        <p>Pour exercer ces droits, veuillez nous contacter √† l'adresse fournie ci-dessous.</p>

        <h2>5. Modifications de la Politique</h2>
        <p>Nous nous r√©servons le droit de modifier cette Politique de Confidentialit√© √† tout moment. Toute modification sera publi√©e sur cette page. Nous vous encourageons √† consulter cette page r√©guli√®rement.</p>

        <h2>6. Nous Contacter</h2>
        <p>Pour toute question concernant cette Politique de Confidentialit√© ou si vous souhaitez exercer vos droits, veuillez contacter le propri√©taire du Site √† l'adresse e-mail suivante :</p>
        <div class="contact-info">
            <p><strong>E-mail :</strong> <a href="mailto:anthony.monchal@etu.univ-grenoble-alpes.fr">anthony.monchal@etu.univ-grenoble-alpes.fr</a>
        </div>

        <p><strong>Date d'entr√©e en vigueur :</strong> <%= date %></p>
        <button class="btn-constent" onclick="ouvrirJeu()">Je consens √† la divulgation de mes donn√©es personelles</button>
    </div>

    <footer class="footer-pro">
    <div class="footer-content">
        <div class="footer-section about">
            <h3>üêç Snake History</h3>
            <p>
                Une r√©trospective interactive sur l'√©volution du jeu le plus c√©l√®bre du monde mobile. 
                Du monochrome du Nokia 3310 aux easter eggs modernes.
            </p>
        </div>

        <div class="footer-section links">
            <h3>Explorer</h3>
            <ul>
                <li><a href="index#origines">Les Origines (Arcade)</a></li>
                <li><a href="index#phenomene-mobile">L'√àre Nokia</a></li>
                <li><a href="index#snek-discord">Snek sur Discord</a></li>
                <li><a href="index#heritage">H√©ritage</a></li>
            </ul>
        </div>

        <div class="footer-section legal">
            <h3>Informations</h3>
            <ul>
                <li><a href="/politique">Politique de Confidentialit√©</a></li>
                <li><a href="https://www.nuitdelinfo.com/" target="_blank">Projet Nuit de l'Info 2025</a></li>
            </ul>
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2025 Snake History | Con√ßu avec passion pour le code et les reptiles.</p>
    </div>
</footer>

<!-- AFFICHE SUPERPOSE -->

<div onclick="fermerJeu()" style="visibility: hidden; z-index: 1000; background-color: rgba(128, 128, 128, 0.355); height:100%; width:100%; opacity: 0.5;" id="pipop1"></div>
<div id="snake-overlay" style="visibility: hidden; z-index: 10000; text-align: center; margin-left: 30%; width: 40%;">
    
    <div class="game-popup">
        <button onclick="afficherInfos()" class="btn-consent" style="font-family: monospace;">VOIR CE QUE NOUS SAVONS DE VOUS</button>
        
        <span class="close-btn" onclick="fermerJeu()">&times;</span>
        
        <h2>Hidden Snake</h2>
        <p>Score: <span id="score">0</span></p>

        <div style="margin-bottom: 10px;">
        <label style="color: #00FF00; font-size: 14px; cursor: pointer;">
            <input type="checkbox" id="checkTeleport" checked> Traverser les murs
        </label>
        </div>
        
        <canvas id="gameCanvas" width="400" height="400"></canvas>
        
        <p class="instruction">Utilisez les fl√®ches pour jouer</p>
    </div>

</div>

<div id="info-overlay" style="visibility: hidden; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); z-index: 20000; display: flex; justify-content: center; align-items: center;">
    
    <div style="background-color: #000; border: 2px solid #00FF00; padding: 30px; border-radius: 5px; max-width: 500px; width: 90%; color: #00FF00; font-family: 'Courier New', Courier, monospace; position: relative; box-shadow: 0 0 20px #00FF00;">
        
        <span onclick="fermerInfos()" style="position: absolute; top: 10px; right: 15px; cursor: pointer; font-size: 24px; font-weight: bold;">&times;</span>
        
        <h2 style="border-bottom: 1px dashed #00FF00; padding-bottom: 10px;">DONN√âES COLLECT√âES</h2>
        
        <div id="info-content" style="text-align: left; margin-top: 20px; line-height: 1.6;">
            Chargement...
        </div>

        <p style="margin-top: 20px; font-size: 0.8em; color: #888;">
            * Ces donn√©es ne sont pas enregistr√©es (pour de vrai), c'est juste pour te faire peur.
        </p>
    </div>
</div>

<script>
    const infoOverlay = document.getElementById('info-overlay');
    const infoContent = document.getElementById('info-content');

    async function afficherInfos() {
        // 1. Ouvrir la popup
        infoOverlay.style.visibility = 'visible';
        infoContent.innerHTML = "Analyse du syst√®me en cours...<br>Decryptage des paquets...";

        // 2. R√©cup√©rer l'IP depuis notre serveur (√©tape 1)
        let ip = "Inconnue";
        try {
            const response = await fetch('/api/my-ip');
            const data = await response.json();
            // Nettoyage de l'IP (souvent ::1 en local)
            ip = data.ip === '::1' ? '127.0.0.1 (Localhost)' : data.ip;
            if (ip.startsWith('::ffff:')) ip = ip.replace('::ffff:', '');
        } catch (e) {
            ip = "Erreur de connexion";
        }

        // 3. R√©cup√©rer les infos du navigateur (JavaScript natif)
        const navigateur = navigator.userAgent;
        const langue = navigator.language;
        const platform = navigator.platform;
        const cores = navigator.hardwareConcurrency || "?";
        const ecran = `${window.screen.width}x${window.screen.height}`;
        const fenetre = `${window.innerWidth}x${window.innerHeight}`;
        
        // Bonus : La batterie (ne marche pas sur tous les navigateurs)
        let batterieNiveau = "Non d√©tect√©e";
        if (navigator.getBattery) {
            try {
                const batt = await navigator.getBattery();
                batterieNiveau = Math.round(batt.level * 100) + "%" + (batt.charging ? " (En charge)" : "");
            } catch (e) {}
        }

        // 4. Afficher le tout
        infoContent.innerHTML = `
            <strong>üìç ADRESSE IP :</strong> ${ip}<br>
            <strong>üñ•Ô∏è SYST√àME :</strong> ${platform}<br>
            <strong>üì∫ √âCRAN :</strong> ${ecran} (Fen√™tre: ${fenetre})<br>
            <strong>üß† C≈íURS CPU :</strong> ${cores}<br>
            <strong>üîã BATTERIE :</strong> ${batterieNiveau}<br>
            <strong>üó£Ô∏è LANGUE :</strong> ${langue}<br>
            <br>
            <strong>üïµÔ∏è USER AGENT :</strong><br>
            <span style="font-size: 0.8em; color: #ccc;">${navigateur}</span>
        `;
    }

    function fermerInfos() {
        infoOverlay.style.visibility = 'hidden';
    }
</script>

    <script src="/js/game.js"></script>
</body>
</html>