<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Politique de Non-Confidentialit√© | Histoire de Snake</title>
    <link rel="stylesheet" href="/css/game.css">
    <link rel="stylesheet" href="/css/style.css">
    <style>
        /* Petit ajout de style pour le texte humoristique */
        .legal-warning {
            background-color: #fff3cd;
            color: #856404;
            padding: 15px;
            border-left: 5px solid #ffeeba;
            margin-bottom: 20px;
            font-style: italic;
        }
        .highlight-scary {
            color: #d9534f; /* Rouge un peu effrayant */
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="back-link">‚Üê Retour √† la s√©curit√© (Accueil)</a>

        <h1>Politique de Surveillance et d'Espionnage (Bienveillant)</h1>

        <div class="legal-warning">
            <strong>Avertissement :</strong> En lisant ce texte, vous acceptez que nous sachions d√©j√† que vous √™tes en train de le lire. Souriez, vous √™tes logg√©.
        </div>

        <p>Bienvenue dans la zone de non-droit du site <strong>"Histoire de Snake"</strong>. Contrairement aux autres sites qui pr√©tendent prot√©ger votre vie priv√©e, nous pr√©f√©rons jouer cartes sur table : nous sommes tr√®s curieux.</p>

        <h2>1. Ce que nous savons d√©j√† sur vous</h2>
        <p>D√®s que vous √™tes arriv√© ici, nos petits robots (et surtout notre script JavaScript) se sont mis au travail. Nous collectons activement :</p>
        <ul>
            <li><strong>Votre Adresse IP :</strong> Juste pour savoir dans quelle ville vous habitez (c'est pour envoyer des cartes postales, promis).</li>
            <li><strong>Votre Niveau de Batterie :</strong> Si vous √™tes en dessous de 20%, nous vous jugeons silencieusement.</li>
            <li><strong>La Taille de votre √âcran :</strong> Car la taille, √ßa compte (pour l'affichage du Snake).</li>
            <li><strong>Votre Navigateur :</strong> Nous savons si vous utilisez Internet Explorer. Si c'est le cas, nous sommes d√©sol√©s pour vous.</li>
        </ul>

        <h2>2. Pourquoi collectons-nous ces donn√©es ?</h2>
        <p>Pas pour les vendre √† la Russie ou √† la NSA, rassurez-vous. Nos objectifs sont beaucoup plus nobles :</p>
        <ol>
            <li><strong>Nourrir le Snake :</strong> Le serpent num√©rique a besoin d'octets frais pour grandir. Vos cookies sont son dessert pr√©f√©r√©.</li>
            <li><strong>Statistiques d'Ego :</strong> Pour que les d√©veloppeurs puissent se vanter d'avoir eu "au moins 3 visiteurs aujourd'hui".</li>
            <li><strong>La fonctionnalit√© "Mouchard" :</strong> Pour vous faire peur avec le bouton "VOIR CE QUE NOUS SAVONS DE VOUS" (disponible dans le jeu).</li>
        </ol>

        <h2>3. Les Cookies (Miam)</h2>
        <p>Nous utilisons des cookies. Pas ceux aux p√©pites de chocolat, malheureusement. Ce sont des petits fichiers invisibles qui squattent votre disque dur pour se souvenir que vous √™tes d√©j√† venu perdre une partie ici.</p>

        <h2>4. Partage des donn√©es</h2>
        <p>Vos donn√©es sont partag√©es exclusivement avec :</p>
        <ul>
            <li><strong>Notre serveur :</strong> Il se sent seul parfois.</li>
        </ul>
        <p>Nous ne vendons pas vos donn√©es, car personne ne veut les acheter.</p>

        <h2>5. Vos Droits (Si vous en avez encore)</h2>
        <p>Conform√©ment au RGPD (R√®glement G√©n√©ral de Protection des Donn√©es), vous avez le droit de :</p>
        <ul>
            <li>Garder le silence.</li>
            <li>Demander l'effacement de vos donn√©es (il suffit de fermer l'onglet, magie !).</li>
            <li>Porter plainte (mais notre avocat est un serpent, il a la langue fourchue).</li>
        </ul>

        <h2>6. Clause de responsabilit√©</h2>
        <p>Le site d√©cline toute responsabilit√© en cas de :</p>
        <ul>
            <li>Perte de productivit√© due √† une addiction au Snake.</li>
            <li>Crise de nerfs apr√®s avoir heurt√© un mur √† la vitesse 130ms.</li>
            <li>Prise de conscience soudaine que vous √™tes trac√© partout sur le web.</li>
        </ul>

        <div class="contact-info">
            <p><strong>Bureau des R√©clamations :</strong> <a href="mailto:anthony.monchal@etu.univ-grenoble-alpes.fr">anthony.monchal@etu.univ-grenoble-alpes.fr</a></p>
        </div>

        <p><strong>Derni√®re mise √† jour :</strong> <%= date %> (Juste avant que vous n'arriviez)</p>
        
        <br>
        
        <div style="text-align: center;">
            <p>√ätes-vous pr√™t √† c√©der votre √¢me num√©rique ?</p>
            <button class="btn-consent" onclick="ouvrirJeu()" style="font-size: 1.2em; padding: 15px 30px; background-color: #d9534f; color: white; border: none; cursor: pointer; border-radius: 5px;">
                JE CONSENS √Ä TOUT
            </button>
        </div>

    </div>

    <footer class="footer-pro">
    <div class="footer-content">
        <div class="footer-section about">
            <h3>üêç Snake History</h3>
            <p>
                Une r√©trospective interactive sur l'√©volution du jeu le plus c√©l√®bre du monde mobile. 
                Du monochrome du Nokia 3310 aux easter eggs modernes.
            </p>
        </div>

        <div class="footer-section links">
            <h3>Explorer</h3>
            <ul>
                <li><a href="index#origines">Les Origines (Arcade)</a></li>
                <li><a href="index#phenomene-mobile">L'√àre Nokia</a></li>
                <li><a href="index#snek-discord">Snek sur Discord</a></li>
                <li><a href="index#heritage">H√©ritage</a></li>
            </ul>
        </div>

        <div class="footer-section legal">
            <h3>Informations</h3>
            <ul>
                <li><a href="/politique">Politique de Confidentialit√©</a></li>
                <li><a href="https://www.nuitdelinfo.com/" target="_blank">Projet Nuit de l'Info 2025</a></li>
            </ul>
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2025 Snake History | Con√ßu avec passion pour le code et les reptiles.</p>
    </div>
</footer>


    <div onclick="fermerJeu()" 
         id="pipop1"
         style="visibility: hidden; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(128, 128, 128, 0.5); z-index: 1000;">
    </div>

    <div id="snake-overlay" 
         style="visibility: hidden; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: auto; z-index: 10000; display: flex; justify-content: center; align-items: center;">
        
        <div class="game-popup" style="background-color: #111; border: 2px solid #00FF00; padding: 20px; border-radius: 10px; text-align: center; color: #00FF00; box-shadow: 0 0 50px rgba(0, 255, 0, 0.2);">
            
            <button onclick="afficherInfos()" class="btn-consent" style="font-family: monospace; background-color: #333; color: #00FF00; border: 1px solid #00FF00; padding: 5px 10px; margin-bottom: 15px; cursor: pointer;">
                VOIR CE QUE NOUS SAVONS DE VOUS
            </button>
            
            <div style="position: relative;">
                <span class="close-btn" onclick="fermerJeu()" style="cursor: pointer; position: absolute; top: -45px; right: -10px; font-size: 30px; color: #00FF00;">&times;</span>
            </div>
            
            <h2 style="color: #00FF00; margin-top: 0;">TERMINAL SNAKE</h2>
            <p>Score: <span id="score">0</span></p>

            <div style="margin-bottom: 10px;">
                <label style="color: #00FF00; font-size: 14px; cursor: pointer;">
                    <input type="checkbox" id="checkTeleport" checked> Traverser les murs (Mode Hacker)
                </label>
            </div>
            
            <canvas id="gameCanvas" width="400" height="400" style="background-color: black; border: 1px solid #333; margin: 0 auto; display: block;"></canvas>
            
            <p class="instruction" style="margin-top: 10px; font-size: 0.9em; color: #888;">Utilisez les fl√®ches pour jouer</p>
        </div>

    </div>

    <div id="info-overlay" style="visibility: hidden; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); z-index: 20000; display: flex; justify-content: center; align-items: center;">
        
        <div style="background-color: #000; border: 2px solid #00FF00; padding: 30px; border-radius: 5px; max-width: 500px; width: 90%; color: #00FF00; font-family: 'Courier New', Courier, monospace; position: relative; box-shadow: 0 0 20px #00FF00;">
            
            <span onclick="fermerInfos()" style="position: absolute; top: 10px; right: 15px; cursor: pointer; font-size: 24px; font-weight: bold;">&times;</span>
            
            <h2 style="border-bottom: 1px dashed #00FF00; padding-bottom: 10px;">DONN√âES COLLECT√âES</h2>
            
            <div id="info-content" style="text-align: left; margin-top: 20px; line-height: 1.6;">
                Chargement...
            </div>
    
            <p style="margin-top: 20px; font-size: 0.8em; color: #888;">
                * Ces donn√©es sont affich√©es en temps r√©el depuis votre navigateur. Nous ne les stockons pas vraiment (on n'a pas assez de place sur le disque dur).
            </p>
        </div>
    </div>

    <script>
        const infoOverlay = document.getElementById('info-overlay');
        const infoContent = document.getElementById('info-content');
    
        async function afficherInfos() {
            // 1. Ouvrir la popup
            infoOverlay.style.visibility = 'visible';
            infoContent.innerHTML = "Infiltration du syst√®me...<br>Lecture de la m√©moire vive...";
    
            // 2. R√©cup√©rer l'IP
            let ip = "Inconnue (Vous utilisez un VPN ?)";
            try {
                const response = await fetch('/api/my-ip');
                const data = await response.json();
                ip = data.ip === '::1' ? '127.0.0.1 (Vous √™tes le serveur !)' : data.ip;
                if (ip.startsWith('::ffff:')) ip = ip.replace('::ffff:', '');
            } catch (e) {
                ip = "Erreur r√©seau (Bien jou√©)";
            }
    
            // 3. R√©cup√©rer les infos navigateur
            const navigateur = navigator.userAgent;
            const langue = navigator.language;
            const platform = navigator.platform;
            const cores = navigator.hardwareConcurrency || "Inconnu";
            const ecran = `${window.screen.width}x${window.screen.height}`;
            
            // 4. Batterie (Feature sp√©ciale)
            let batterieNiveau = "Ind√©tectable (PC Fixe ?)";
            if (navigator.getBattery) {
                try {
                    const batt = await navigator.getBattery();
                    const niveau = Math.round(batt.level * 100);
                    let commentaire = "";
                    if(niveau < 20) commentaire = " (Branchez-vous vite !)";
                    else if(niveau > 90) commentaire = " (√ânergie au max)";
                    
                    batterieNiveau = niveau + "%" + (batt.charging ? " ‚ö° En charge" : "") + commentaire;
                } catch (e) {}
            }
    
            // 5. Affichage final
            infoContent.innerHTML = `
                <strong>üìç ADRESSE IP CIBLE :</strong> <span style="color:white">${ip}</span><br>
                <strong>üñ•Ô∏è OS D√âTECT√â :</strong> ${platform}<br>
                <strong>üì∫ R√âSOLUTION :</strong> ${ecran}<br>
                <strong>üß† PUISSANCE CPU :</strong> ${cores} C≈ìurs<br>
                <strong>üîã √âTAT √âNERGIE :</strong> ${batterieNiveau}<br>
                <strong>üó£Ô∏è LANGUE :</strong> ${langue}<br>
                <br>
                <strong>üïµÔ∏è SIGNATURE NAVIGATEUR :</strong><br>
                <span style="font-size: 0.7em; color: #ccc;">${navigateur}</span>
            `;
        }
    
        function fermerInfos() {
            infoOverlay.style.visibility = 'hidden';
        }
    </script>
    
    <script src="/js/game.js"></script>
</body>
</html>